<div data-uib-dropdown>
    <button
        type="button"
        class="btn btn-link dropdown-toggle"
        title="{{:: 'common_actions' | translate }}"
        data-uib-dropdown-toggle
    >
        <span
            class="ovh-font ovh-font-dots align-top"
            aria-label="{{:: 'common_actions' | translate }}"
            aria-hidden="true"
        >
        </span>
    </button>

    <ul class="dropdown-menu-right" data-uib-dropdown-menu>
        <!-- DESCRIPTION -->
        <li>
            <button
                type="button"
                class="btn btn-link"
                data-ng-click="$ctrl.goToBlockDescriptionEdit({ 'ipBlock': ipBlock.ipBlock, 'serviceName': filters.service.serviceName })"
                data-ng-bind="ipBlock.description && ('ip_description_edit_title' | translate) || ('ip_description_new_title' | translate)"
            ></button>
        </li>

        <!-- REVERSE:: only for ipv6block -->
        <li data-ng-if="ipBlock.version === 'IPV6' && !ipBlock.isUniq">
            <button
                type="button"
                class="btn btn-link"
                data-ng-click="$ctrl.goToReverseAdd({ 'ipBlock': ipBlock.ipBlock, 'serviceName': filters.service.serviceName })"
                data-translate="ip_table_manage_add_ipv6block"
            ></button>
        </li>

        <!-- DELEGATION REVERSE:: only for ipv6block -->
        <li data-ng-if="canReverseDelegations(ipBlock)">
            <button
                type="button"
                class="btn btn-link"
                data-ng-click="$ctrl.goToReverse({ 'ipBlock': ipBlock.ipBlock, 'serviceName': filters.service.serviceName })"
                data-translate="ip_table_manage_delegate_ipv6block"
            ></button>
        </li>

        <li
            data-ng-if="ipBlock.type === 'FAILOVER'"
            class="divider"
            role="separator"
        ></li>

        <li data-ng-if="ipBlock.type === 'FAILOVER' && ipBlock.organizationId">
            <button
                type="button"
                class="btn btn-link"
                data-ng-click="$ctrl.goToOrganisationView({ 'ipBlock': ipBlock.ipBlock, 'serviceName': filters.service.serviceName })"
                data-translate="ip_table_manage_view_iporganisation_details"
            ></button>
        </li>

        <li data-ng-if="ipBlock.type === 'FAILOVER' && ipBlock.organizationId">
            <button
                type="button"
                class="btn btn-link"
                data-ng-click="$ctrl.goToOrganisationChange({ 'ipBlock': ipBlock.ipBlock, 'serviceName': filters.service.serviceName })"
                data-translate="ip_table_manage_view_iporganisation_change"
            ></button>
        </li>

        <li data-ng-if="ipBlock.type === 'FAILOVER'">
            <button
                type="button"
                class="btn btn-link"
                data-ng-click="$ctrl.goToBlockMove({ 'ipBlock': ipBlock.ipBlock, 'serviceName': filters.service.serviceName })"
                data-translate="ip_table_manage_move_ipblock"
            ></button>
        </li>

        <li data-ng-if="ipBlock.type === 'FAILOVER'">
            <button
                type="button"
                class="btn btn-link"
                data-ng-if="ipBlock.canBeTerminated"
                data-ng-click="$ctrl.goToBlockDelete({ 'ipBlock': ipBlock.ipBlock, 'serviceName': filters.service.serviceName })"
                data-translate="ip_table_manage_delete_ipblock"
            ></button>
            <button
                type="button"
                class="btn btn-link"
                data-ng-if="!ipBlock.canBeTerminated"
                data-oui-tooltip="{{ 'ip_failover_impossible_delete' | translate }}"
                data-oui-tooltip-placement="left"
                disabled
                data-translate="ip_table_manage_delete_ipblock"
            ></button>
        </li>
    </ul>
</div>
